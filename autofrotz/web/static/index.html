<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoFrotz v2 - Monitoring</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header>
        <h1>AutoFrotz v2</h1>
        <div class="header-controls">
            <label for="game-selector">Game:</label>
            <select id="game-selector">
                <option value="">Select a game...</option>
            </select>
            <span id="mode-indicator" class="mode-badge">Disconnected</span>
        </div>
    </header>

    <main class="grid-container">
        <!-- Transcript Panel -->
        <section id="transcript-panel" class="panel">
            <h2>Game Transcript</h2>
            <div id="transcript-content" class="transcript">
                <p class="placeholder">Select a game to view transcript...</p>
            </div>
        </section>

        <!-- Map Panel -->
        <section id="map-panel" class="panel">
            <h2>Map</h2>
            <div id="map-content" class="map-container">
                <svg id="map-svg" width="100%" height="100%">
                    <g id="map-edges"></g>
                    <g id="map-nodes"></g>
                </svg>
            </div>
        </section>

        <!-- Inventory Panel -->
        <section id="inventory-panel" class="panel">
            <h2>Inventory</h2>
            <div id="inventory-content" class="item-list">
                <p class="placeholder">No items in inventory</p>
            </div>
        </section>

        <!-- Puzzle Panel -->
        <section id="puzzle-panel" class="panel">
            <h2>Puzzles</h2>
            <div id="puzzle-content" class="puzzle-list">
                <p class="placeholder">No puzzles detected</p>
            </div>
        </section>

        <!-- Metrics Panel -->
        <section id="metrics-panel" class="panel">
            <h2>Metrics</h2>
            <div id="metrics-content" class="metrics-grid">
                <div class="metric">
                    <span class="metric-label">Turns:</span>
                    <span id="metric-turns" class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Input Tokens:</span>
                    <span id="metric-input-tokens" class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Output Tokens:</span>
                    <span id="metric-output-tokens" class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Cached Tokens:</span>
                    <span id="metric-cached-tokens" class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Est. Cost:</span>
                    <span id="metric-cost" class="metric-value">$0.00</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Total Latency:</span>
                    <span id="metric-latency" class="metric-value">0ms</span>
                </div>
            </div>
            <details id="agent-breakdown" class="agent-details">
                <summary>Agent Breakdown</summary>
                <div id="agent-metrics" class="agent-metrics"></div>
            </details>
        </section>
    </main>

    <!-- Replay Controls Bar -->
    <footer id="replay-controls" class="controls-bar hidden">
        <button id="btn-first" title="First Turn">⏮</button>
        <button id="btn-prev" title="Previous Turn">⏪</button>
        <button id="btn-play-pause" title="Play/Pause">▶</button>
        <button id="btn-next" title="Next Turn">⏩</button>
        <button id="btn-last" title="Last Turn">⏭</button>
        <div class="speed-control">
            <label for="speed-slider">Speed:</label>
            <input type="range" id="speed-slider" min="0.5" max="5" step="0.5" value="1">
            <span id="speed-value">1x</span>
        </div>
        <div class="turn-indicator">
            Turn <span id="current-turn">0</span> / <span id="total-turns">0</span>
        </div>
    </footer>

    <script src="/app.js"></script>
</body>
</html>
